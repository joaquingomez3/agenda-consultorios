extends layout.pug

block contenido
    .container.mt-5
        .row.justify-content-center.align-items-center
            // Imagen lateral
            .col-md-6.d-none.d-md-block.text-center
                img(src="/imagenes/doc.jpg", alt="Doctores", class="img-fluid rounded shadow")

            // Login card
            .col-md-5
                .card.shadow-lg.border-0.p-4
                    .text-center.mb-3
                        img(src="/imagenes/doctores.jpg", alt="Avatar", class="rounded-circle mb-3", width="80")
                        h2.text-primary.mb-1 CONSULTORIO MÉDICO
                        h5.text-muted.fw-light Iniciar Sesión

                    if success 
                        .alert.alert-success#success-message= success

                    if error
                        .alert.alert-danger= error
                    
                    form(method="POST", action="/login")
                        .form-group.mb-3
                            label.visually-hidden(for="username") Usuario
                            .input-group
                                span.input-group-text.bg-light
                                    i.fas.fa-user.text-secondary
                                input#username.form-control(type="text", name="username", placeholder="Usuario", required)

                        .form-group.mb-3
                            label.visually-hidden(for="password") Contraseña
                            .input-group
                                span.input-group-text.bg-light
                                    i.fas.fa-lock.text-secondary
                                input#password.form-control(type="password", name="password", placeholder="Contraseña", required)

                        .d-grid.mt-4
                            button.btn.btn-primary.btn-lg.w-100(type="submit") Iniciar Sesión

                    .text-center.mt-3
                        span.text-muted ¿No tenés una cuenta?
                        a(href="/usuarios/crear", class="ms-1 text-decoration-none fw-semibold") Crear usuario

    script.
        setTimeout(() => {
            const mensaje = document.getElementById('success-message');
            if (mensaje) {
                mensaje.style.transition = 'opacity 1s';
                mensaje.style.opacity = '0';
                setTimeout(() => mensaje.remove(), 1000);
            }
        }, 3000);
